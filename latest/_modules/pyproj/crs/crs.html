<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" />

    <link rel="shortcut icon" href="../../../_static/icon.png"/><!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>pyproj.crs.crs - pyproj 3.7.2.dev0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=20074c1a" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #263238;
  --color-code-foreground: #EEFFFF;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">pyproj 3.7.2.dev0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../../_static/logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">pyproj 3.7.2.dev0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../transformation_grids.html">Transformation Grids</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gotchas.html">Gotchas/FAQ</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api/index.html">API Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of API Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/crs/index.html">CRS module API Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of CRS module API Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/crs/crs.html">CRS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/crs/coordinate_system.html">Coordinate Systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/crs/coordinate_operation.html">Coordinate Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/crs/datum.html">Datum</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/crs/enums.html">Enumerations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/transformer.html">Transformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/geod.html">Geod</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/proj.html">Proj</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/database.html">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/list.html">Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/datadir.html">Data Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/network.html">PROJ Network Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/sync.html">Sync Transformation Grids</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/global_context.html">Global Context</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/enums.html">Enumerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/aoi.html">Area of Interest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/exceptions.html">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/show_versions.html">Show Versions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cli.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced_examples.html">Advanced Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../build_crs.html">Building a Coordinate Reference System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../build_crs_cf.html">Managing CRS to and from CF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../crs_compatibility.html">CRS Compatibility Guide for Geospatial Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../optimize_transformations.html">Optimize Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../history.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../past_versions.html">Documentation Archive</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <h1>Source code for pyproj.crs.crs</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This module interfaces with PROJ to produce a pythonic interface</span>
<span class="sd">to the coordinate reference system (CRS) information.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># pylint: disable=too-many-lines</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">threading</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections.abc</span><span class="w"> </span><span class="kn">import</span> <span class="n">Callable</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">pyproj._crs</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">_CRS</span><span class="p">,</span>
    <span class="n">AreaOfUse</span><span class="p">,</span>
    <span class="n">AuthorityMatchInfo</span><span class="p">,</span>
    <span class="n">Axis</span><span class="p">,</span>
    <span class="n">CoordinateOperation</span><span class="p">,</span>
    <span class="n">CoordinateSystem</span><span class="p">,</span>
    <span class="n">Datum</span><span class="p">,</span>
    <span class="n">Ellipsoid</span><span class="p">,</span>
    <span class="n">PrimeMeridian</span><span class="p">,</span>
    <span class="n">_load_proj_json</span><span class="p">,</span>
    <span class="n">is_proj</span><span class="p">,</span>
    <span class="n">is_wkt</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pyproj.crs._cf1x8</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">_GEOGRAPHIC_GRID_MAPPING_NAME_MAP</span><span class="p">,</span>
    <span class="n">_GRID_MAPPING_NAME_MAP</span><span class="p">,</span>
    <span class="n">_INVERSE_GEOGRAPHIC_GRID_MAPPING_NAME_MAP</span><span class="p">,</span>
    <span class="n">_INVERSE_GRID_MAPPING_NAME_MAP</span><span class="p">,</span>
    <span class="n">_horizontal_datum_from_params</span><span class="p">,</span>
    <span class="n">_try_list_if_string</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pyproj.crs.coordinate_operation</span><span class="w"> </span><span class="kn">import</span> <span class="n">ToWGS84Transformation</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pyproj.crs.coordinate_system</span><span class="w"> </span><span class="kn">import</span> <span class="n">Cartesian2DCS</span><span class="p">,</span> <span class="n">Ellipsoidal2DCS</span><span class="p">,</span> <span class="n">VerticalCS</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pyproj.enums</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProjVersion</span><span class="p">,</span> <span class="n">WktVersion</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pyproj.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">CRSError</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pyproj.geod</span><span class="w"> </span><span class="kn">import</span> <span class="n">Geod</span>

<span class="n">_RE_PROJ_PARAM</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    \+              # parameter starts with &#39;+&#39; character</span>
<span class="sd">    (?P&lt;param&gt;\w+)    # capture parameter name</span>
<span class="sd">    \=?             # match both key only and key-value parameters</span>
<span class="sd">    (?P&lt;value&gt;\S+)? # capture all characters up to next space (None if no value)</span>
<span class="sd">    \s*?            # consume remaining whitespace, if any</span>
<span class="sd">&quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">re</span><span class="o">.</span><span class="n">X</span><span class="p">,</span>
<span class="p">)</span>


<span class="k">class</span><span class="w"> </span><span class="nc">CRSLocal</span><span class="p">(</span><span class="n">threading</span><span class="o">.</span><span class="n">local</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Threading local instance for cython CRS class.</span>

<span class="sd">    For more details, see:</span>
<span class="sd">    https://github.com/pyproj4/pyproj/issues/782</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">crs</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Initialises in each thread</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>


<span class="k">def</span><span class="w"> </span><span class="nf">_prepare_from_dict</span><span class="p">(</span><span class="n">projparams</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">allow_json</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">projparams</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">CRSError</span><span class="p">(</span><span class="s2">&quot;CRS input is not a dict&quot;</span><span class="p">)</span>
    <span class="c1"># check if it is a PROJ JSON dict</span>
    <span class="k">if</span> <span class="s2">&quot;proj&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">projparams</span> <span class="ow">and</span> <span class="s2">&quot;init&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">projparams</span> <span class="ow">and</span> <span class="n">allow_json</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">projparams</span><span class="p">)</span>
    <span class="c1"># convert a dict to a proj string.</span>
    <span class="n">pjargs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">projparams</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># the towgs84 as list</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">value</span><span class="p">])</span>
        <span class="c1"># issue 183 (+ no_rot)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;True&quot;</span><span class="p">:</span>
            <span class="n">pjargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;+</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;False&quot;</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pjargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;+</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_prepare_from_string</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pjargs</span><span class="p">))</span>


<span class="k">def</span><span class="w"> </span><span class="nf">_prepare_from_proj_string</span><span class="p">(</span><span class="n">in_crs_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">in_crs_string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[\s+]?=[\s+]?&quot;</span><span class="p">,</span> <span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="n">in_crs_string</span><span class="o">.</span><span class="n">lstrip</span><span class="p">())</span>
    <span class="c1"># make sure the projection starts with +proj or +init</span>
    <span class="n">starting_params</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;+init&quot;</span><span class="p">,</span> <span class="s2">&quot;+proj&quot;</span><span class="p">,</span> <span class="s2">&quot;init&quot;</span><span class="p">,</span> <span class="s2">&quot;proj&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">in_crs_string</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">starting_params</span><span class="p">):</span>
        <span class="n">kvpairs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">first_item_inserted</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">kvpair</span> <span class="ow">in</span> <span class="n">in_crs_string</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">first_item_inserted</span> <span class="ow">and</span> <span class="p">(</span><span class="n">kvpair</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">starting_params</span><span class="p">)):</span>
                <span class="n">kvpairs</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">kvpair</span><span class="p">)</span>
                <span class="n">first_item_inserted</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">kvpairs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kvpair</span><span class="p">)</span>
        <span class="n">in_crs_string</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">kvpairs</span><span class="p">)</span>

    <span class="c1"># make sure it is the CRS type</span>
    <span class="k">if</span> <span class="s2">&quot;type=crs&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">in_crs_string</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;+&quot;</span> <span class="ow">in</span> <span class="n">in_crs_string</span><span class="p">:</span>
            <span class="n">in_crs_string</span> <span class="o">+=</span> <span class="s2">&quot; +type=crs&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">in_crs_string</span> <span class="o">+=</span> <span class="s2">&quot; type=crs&quot;</span>

    <span class="c1"># look for EPSG, replace with epsg (EPSG only works</span>
    <span class="c1"># on case-insensitive filesystems).</span>
    <span class="n">in_crs_string</span> <span class="o">=</span> <span class="n">in_crs_string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;+init=EPSG&quot;</span><span class="p">,</span> <span class="s2">&quot;+init=epsg&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">in_crs_string</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s2">&quot;+init&quot;</span><span class="p">,</span> <span class="s2">&quot;init&quot;</span><span class="p">)):</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;&#39;+init=&lt;authority&gt;:&lt;code&gt;&#39; syntax is deprecated. &quot;</span>
            <span class="s2">&quot;&#39;&lt;authority&gt;:&lt;code&gt;&#39; is the preferred initialization method. &quot;</span>
            <span class="s2">&quot;When making the change, be mindful of axis order changes: &quot;</span>
            <span class="s2">&quot;https://pyproj4.github.io/pyproj/stable/gotchas.html&quot;</span>
            <span class="s2">&quot;#axis-order-changes-in-proj-6&quot;</span><span class="p">,</span>
            <span class="ne">FutureWarning</span><span class="p">,</span>
            <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">in_crs_string</span>


<span class="k">def</span><span class="w"> </span><span class="nf">_prepare_from_string</span><span class="p">(</span><span class="n">in_crs_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">in_crs_string</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">CRSError</span><span class="p">(</span><span class="s2">&quot;CRS input is not a string&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">in_crs_string</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">CRSError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CRS string is empty or invalid: </span><span class="si">{</span><span class="n">in_crs_string</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="s2">&quot;{&quot;</span> <span class="ow">in</span> <span class="n">in_crs_string</span><span class="p">:</span>
        <span class="c1"># may be json, try to decode it</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">crs_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">in_crs_string</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CRSError</span><span class="p">(</span><span class="s2">&quot;CRS appears to be JSON but is not valid&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">err</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">crs_dict</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CRSError</span><span class="p">(</span><span class="s2">&quot;CRS is empty JSON&quot;</span><span class="p">)</span>
        <span class="n">in_crs_string</span> <span class="o">=</span> <span class="n">_prepare_from_dict</span><span class="p">(</span><span class="n">crs_dict</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">is_proj</span><span class="p">(</span><span class="n">in_crs_string</span><span class="p">):</span>
        <span class="n">in_crs_string</span> <span class="o">=</span> <span class="n">_prepare_from_proj_string</span><span class="p">(</span><span class="n">in_crs_string</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">in_crs_string</span>


<span class="k">def</span><span class="w"> </span><span class="nf">_prepare_from_authority</span><span class="p">(</span><span class="n">auth_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">auth_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">auth_name</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">auth_code</span><span class="si">}</span><span class="s2">&quot;</span>


<span class="k">def</span><span class="w"> </span><span class="nf">_prepare_from_epsg</span><span class="p">(</span><span class="n">auth_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_prepare_from_authority</span><span class="p">(</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span> <span class="n">auth_code</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">_is_epsg_code</span><span class="p">(</span><span class="n">auth_code</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth_code</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth_code</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">auth_code</span><span class="o">.</span><span class="n">isnumeric</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">auth_code</span><span class="p">,</span> <span class="s2">&quot;shape&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">auth_code</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">():</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>


<div class="viewcode-block" id="CRS">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">CRS</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A pythonic Coordinate Reference System manager.</span>

<span class="sd">    .. versionadded:: 2.0.0</span>

<span class="sd">    See: :c:func:`proj_create`</span>

<span class="sd">    The functionality is based on other fantastic projects:</span>

<span class="sd">    * `rasterio &lt;https://github.com/mapbox/rasterio/blob/c13f0943b95c0eaa36ff3f620bd91107aa67b381/rasterio/_crs.pyx&gt;`_  # noqa: E501</span>
<span class="sd">    * `opendatacube &lt;https://github.com/opendatacube/datacube-core/blob/83bae20d2a2469a6417097168fd4ede37fd2abe5/datacube/utils/geometry/_base.py&gt;`_  # noqa: E501</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    srs: str</span>
<span class="sd">        The string form of the user input used to create the CRS.</span>

<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="CRS.__init__">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.__init__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">projparams</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a CRS class instance with:</span>
<span class="sd">          - PROJ string</span>
<span class="sd">          - Dictionary of PROJ parameters</span>
<span class="sd">          - PROJ keyword arguments for parameters</span>
<span class="sd">          - JSON string with PROJ parameters</span>
<span class="sd">          - CRS WKT string</span>
<span class="sd">          - An authority string [i.e. &#39;epsg:4326&#39;]</span>
<span class="sd">          - An EPSG integer code [i.e. 4326]</span>
<span class="sd">          - A tuple of (&quot;auth_name&quot;: &quot;auth_code&quot;) [i.e (&#39;epsg&#39;, &#39;4326&#39;)]</span>
<span class="sd">          - An object with a `to_wkt` method.</span>
<span class="sd">          - A :class:`pyproj.crs.CRS` class</span>

<span class="sd">        Example usage:</span>

<span class="sd">        &gt;&gt;&gt; from pyproj import CRS</span>
<span class="sd">        &gt;&gt;&gt; crs_utm = CRS.from_user_input(26915)</span>
<span class="sd">        &gt;&gt;&gt; crs_utm</span>
<span class="sd">        &lt;Projected CRS: EPSG:26915&gt;</span>
<span class="sd">        Name: NAD83 / UTM zone 15N</span>
<span class="sd">        Axis Info [cartesian]:</span>
<span class="sd">        - E[east]: Easting (metre)</span>
<span class="sd">        - N[north]: Northing (metre)</span>
<span class="sd">        Area of Use:</span>
<span class="sd">        - name: North America - 96°W to 90°W and NAD83 by country</span>
<span class="sd">        - bounds: (-96.0, 25.61, -90.0, 84.0)</span>
<span class="sd">        Coordinate Operation:</span>
<span class="sd">        - name: UTM zone 15N</span>
<span class="sd">        - method: Transverse Mercator</span>
<span class="sd">        Datum: North American Datum 1983</span>
<span class="sd">        - Ellipsoid: GRS 1980</span>
<span class="sd">        - Prime Meridian: Greenwich</span>
<span class="sd">        &lt;BLANKLINE&gt;</span>
<span class="sd">        &gt;&gt;&gt; crs_utm.area_of_use.bounds</span>
<span class="sd">        (-96.0, 25.61, -90.0, 84.0)</span>
<span class="sd">        &gt;&gt;&gt; crs_utm.ellipsoid</span>
<span class="sd">        ELLIPSOID[&quot;GRS 1980&quot;,6378137,298.257222101,</span>
<span class="sd">            LENGTHUNIT[&quot;metre&quot;,1],</span>
<span class="sd">            ID[&quot;EPSG&quot;,7019]]</span>
<span class="sd">        &gt;&gt;&gt; crs_utm.ellipsoid.inverse_flattening</span>
<span class="sd">        298.257222101</span>
<span class="sd">        &gt;&gt;&gt; crs_utm.ellipsoid.semi_major_metre</span>
<span class="sd">        6378137.0</span>
<span class="sd">        &gt;&gt;&gt; crs_utm.ellipsoid.semi_minor_metre</span>
<span class="sd">        6356752.314140356</span>
<span class="sd">        &gt;&gt;&gt; crs_utm.prime_meridian</span>
<span class="sd">        PRIMEM[&quot;Greenwich&quot;,0,</span>
<span class="sd">            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],</span>
<span class="sd">            ID[&quot;EPSG&quot;,8901]]</span>
<span class="sd">        &gt;&gt;&gt; crs_utm.prime_meridian.unit_name</span>
<span class="sd">        &#39;degree&#39;</span>
<span class="sd">        &gt;&gt;&gt; crs_utm.prime_meridian.unit_conversion_factor</span>
<span class="sd">        0.017453292519943295</span>
<span class="sd">        &gt;&gt;&gt; crs_utm.prime_meridian.longitude</span>
<span class="sd">        0.0</span>
<span class="sd">        &gt;&gt;&gt; crs_utm.datum</span>
<span class="sd">        DATUM[&quot;North American Datum 1983&quot;,</span>
<span class="sd">            ELLIPSOID[&quot;GRS 1980&quot;,6378137,298.257222101,</span>
<span class="sd">                LENGTHUNIT[&quot;metre&quot;,1]],</span>
<span class="sd">            ID[&quot;EPSG&quot;,6269]]</span>
<span class="sd">        &gt;&gt;&gt; crs_utm.coordinate_system</span>
<span class="sd">        CS[Cartesian,2],</span>
<span class="sd">            AXIS[&quot;(E)&quot;,east,</span>
<span class="sd">                ORDER[1],</span>
<span class="sd">                LENGTHUNIT[&quot;metre&quot;,1,</span>
<span class="sd">                    ID[&quot;EPSG&quot;,9001]]],</span>
<span class="sd">            AXIS[&quot;(N)&quot;,north,</span>
<span class="sd">                ORDER[2],</span>
<span class="sd">                LENGTHUNIT[&quot;metre&quot;,1,</span>
<span class="sd">                    ID[&quot;EPSG&quot;,9001]]]</span>
<span class="sd">        &gt;&gt;&gt; print(crs_utm.coordinate_operation.to_wkt(pretty=True))</span>
<span class="sd">        CONVERSION[&quot;UTM zone 15N&quot;,</span>
<span class="sd">            METHOD[&quot;Transverse Mercator&quot;,</span>
<span class="sd">                ID[&quot;EPSG&quot;,9807]],</span>
<span class="sd">            PARAMETER[&quot;Latitude of natural origin&quot;,0,</span>
<span class="sd">                ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],</span>
<span class="sd">                ID[&quot;EPSG&quot;,8801]],</span>
<span class="sd">            PARAMETER[&quot;Longitude of natural origin&quot;,-93,</span>
<span class="sd">                ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],</span>
<span class="sd">                ID[&quot;EPSG&quot;,8802]],</span>
<span class="sd">            PARAMETER[&quot;Scale factor at natural origin&quot;,0.9996,</span>
<span class="sd">                SCALEUNIT[&quot;unity&quot;,1],</span>
<span class="sd">                ID[&quot;EPSG&quot;,8805]],</span>
<span class="sd">            PARAMETER[&quot;False easting&quot;,500000,</span>
<span class="sd">                LENGTHUNIT[&quot;metre&quot;,1],</span>
<span class="sd">                ID[&quot;EPSG&quot;,8806]],</span>
<span class="sd">            PARAMETER[&quot;False northing&quot;,0,</span>
<span class="sd">                LENGTHUNIT[&quot;metre&quot;,1],</span>
<span class="sd">                ID[&quot;EPSG&quot;,8807]],</span>
<span class="sd">            ID[&quot;EPSG&quot;,16015]]</span>
<span class="sd">        &gt;&gt;&gt; crs = CRS(proj=&#39;utm&#39;, zone=10, ellps=&#39;WGS84&#39;)</span>
<span class="sd">        &gt;&gt;&gt; print(crs.to_wkt(pretty=True))</span>
<span class="sd">        PROJCRS[&quot;unknown&quot;,</span>
<span class="sd">            BASEGEOGCRS[&quot;unknown&quot;,</span>
<span class="sd">                DATUM[&quot;Unknown based on WGS84 ellipsoid&quot;,</span>
<span class="sd">                    ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,</span>
<span class="sd">                        LENGTHUNIT[&quot;metre&quot;,1],</span>
<span class="sd">                        ID[&quot;EPSG&quot;,7030]]],</span>
<span class="sd">                PRIMEM[&quot;Greenwich&quot;,0,</span>
<span class="sd">                    ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],</span>
<span class="sd">                    ID[&quot;EPSG&quot;,8901]]],</span>
<span class="sd">            CONVERSION[&quot;UTM zone 10N&quot;,</span>
<span class="sd">                METHOD[&quot;Transverse Mercator&quot;,</span>
<span class="sd">                    ID[&quot;EPSG&quot;,9807]],</span>
<span class="sd">                PARAMETER[&quot;Latitude of natural origin&quot;,0,</span>
<span class="sd">                    ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],</span>
<span class="sd">                    ID[&quot;EPSG&quot;,8801]],</span>
<span class="sd">                PARAMETER[&quot;Longitude of natural origin&quot;,-123,</span>
<span class="sd">                    ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],</span>
<span class="sd">                    ID[&quot;EPSG&quot;,8802]],</span>
<span class="sd">                PARAMETER[&quot;Scale factor at natural origin&quot;,0.9996,</span>
<span class="sd">                    SCALEUNIT[&quot;unity&quot;,1],</span>
<span class="sd">                    ID[&quot;EPSG&quot;,8805]],</span>
<span class="sd">                PARAMETER[&quot;False easting&quot;,500000,</span>
<span class="sd">                    LENGTHUNIT[&quot;metre&quot;,1],</span>
<span class="sd">                    ID[&quot;EPSG&quot;,8806]],</span>
<span class="sd">                PARAMETER[&quot;False northing&quot;,0,</span>
<span class="sd">                    LENGTHUNIT[&quot;metre&quot;,1],</span>
<span class="sd">                    ID[&quot;EPSG&quot;,8807]],</span>
<span class="sd">                ID[&quot;EPSG&quot;,16010]],</span>
<span class="sd">            CS[Cartesian,2],</span>
<span class="sd">                AXIS[&quot;(E)&quot;,east,</span>
<span class="sd">                    ORDER[1],</span>
<span class="sd">                    LENGTHUNIT[&quot;metre&quot;,1,</span>
<span class="sd">                        ID[&quot;EPSG&quot;,9001]]],</span>
<span class="sd">                AXIS[&quot;(N)&quot;,north,</span>
<span class="sd">                    ORDER[2],</span>
<span class="sd">                    LENGTHUNIT[&quot;metre&quot;,1,</span>
<span class="sd">                        ID[&quot;EPSG&quot;,9001]]]]</span>
<span class="sd">        &gt;&gt;&gt; geod = crs.get_geod()</span>
<span class="sd">        &gt;&gt;&gt; f&quot;+a={geod.a:.0f} +f={geod.f:.8f}&quot;</span>
<span class="sd">        &#39;+a=6378137 +f=0.00335281&#39;</span>
<span class="sd">        &gt;&gt;&gt; crs.is_projected</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; crs.is_geographic</span>
<span class="sd">        False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">projstring</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="k">if</span> <span class="n">projparams</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">projparams</span><span class="p">,</span> <span class="n">_CRS</span><span class="p">):</span>
                <span class="n">projstring</span> <span class="o">=</span> <span class="n">projparams</span><span class="o">.</span><span class="n">srs</span>
            <span class="k">elif</span> <span class="n">_is_epsg_code</span><span class="p">(</span><span class="n">projparams</span><span class="p">):</span>
                <span class="n">projstring</span> <span class="o">=</span> <span class="n">_prepare_from_epsg</span><span class="p">(</span><span class="n">projparams</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">projparams</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">projstring</span> <span class="o">=</span> <span class="n">_prepare_from_string</span><span class="p">(</span><span class="n">projparams</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">projparams</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="n">projstring</span> <span class="o">=</span> <span class="n">_prepare_from_dict</span><span class="p">(</span><span class="n">projparams</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">projparams</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">))</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">projparams</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">projstring</span> <span class="o">=</span> <span class="n">_prepare_from_authority</span><span class="p">(</span><span class="o">*</span><span class="n">projparams</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">projparams</span><span class="p">,</span> <span class="s2">&quot;to_wkt&quot;</span><span class="p">):</span>
                <span class="n">projstring</span> <span class="o">=</span> <span class="n">projparams</span><span class="o">.</span><span class="n">to_wkt</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">CRSError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid CRS input: </span><span class="si">{</span><span class="n">projparams</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="n">projkwargs</span> <span class="o">=</span> <span class="n">_prepare_from_dict</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">allow_json</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">projstring</span> <span class="o">=</span> <span class="n">_prepare_from_string</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">projstring</span><span class="p">,</span> <span class="n">projkwargs</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">srs</span> <span class="o">=</span> <span class="n">projstring</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_local</span> <span class="o">=</span> <span class="n">CRSLocal</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">projparams</span><span class="p">,</span> <span class="n">_CRS</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">crs</span> <span class="o">=</span> <span class="n">projparams</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">crs</span> <span class="o">=</span> <span class="n">_CRS</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">srs</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_crs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve the Cython based _CRS object for this thread.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">crs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">crs</span> <span class="o">=</span> <span class="n">_CRS</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">srs</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">crs</span>

<div class="viewcode-block" id="CRS.from_authority">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.from_authority">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_authority</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">auth_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CRS&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Make a CRS from an authority name and authority code</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        auth_name: str</span>
<span class="sd">            The name of the authority.</span>
<span class="sd">        code : int or str</span>
<span class="sd">            The code used by the authority.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">_prepare_from_authority</span><span class="p">(</span><span class="n">auth_name</span><span class="p">,</span> <span class="n">code</span><span class="p">))</span></div>


<div class="viewcode-block" id="CRS.from_epsg">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.from_epsg">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_epsg</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CRS&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a CRS from an EPSG code</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        code : int or str</span>
<span class="sd">            An EPSG code.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">_prepare_from_epsg</span><span class="p">(</span><span class="n">code</span><span class="p">))</span></div>


<div class="viewcode-block" id="CRS.from_proj4">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.from_proj4">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_proj4</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">in_proj_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CRS&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Make a CRS from a PROJ string</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        in_proj_string : str</span>
<span class="sd">            A PROJ string.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_proj</span><span class="p">(</span><span class="n">in_proj_string</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">CRSError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid PROJ string: </span><span class="si">{</span><span class="n">in_proj_string</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">_prepare_from_proj_string</span><span class="p">(</span><span class="n">in_proj_string</span><span class="p">))</span></div>


<div class="viewcode-block" id="CRS.from_wkt">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.from_wkt">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_wkt</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">in_wkt_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CRS&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Make a CRS from a WKT string</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        in_wkt_string : str</span>
<span class="sd">            A WKT string.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_wkt</span><span class="p">(</span><span class="n">in_wkt_string</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">CRSError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid WKT string: </span><span class="si">{</span><span class="n">in_wkt_string</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">_prepare_from_string</span><span class="p">(</span><span class="n">in_wkt_string</span><span class="p">))</span></div>


<div class="viewcode-block" id="CRS.from_string">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.from_string">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">in_crs_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CRS&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Make a CRS from:</span>

<span class="sd">        Initialize a CRS class instance with:</span>
<span class="sd">         - PROJ string</span>
<span class="sd">         - JSON string with PROJ parameters</span>
<span class="sd">         - CRS WKT string</span>
<span class="sd">         - An authority string [i.e. &#39;epsg:4326&#39;]</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        in_crs_string : str</span>
<span class="sd">            An EPSG, PROJ, or WKT string.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">_prepare_from_string</span><span class="p">(</span><span class="n">in_crs_string</span><span class="p">))</span></div>


<div class="viewcode-block" id="CRS.to_string">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.to_string">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_string</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Convert the CRS to a string.</span>

<span class="sd">        It attempts to convert it to the authority string.</span>
<span class="sd">        Otherwise, it uses the string format of the user</span>
<span class="sd">        input to create the CRS.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">auth_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_authority</span><span class="p">(</span><span class="n">min_confidence</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">auth_info</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;:&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">auth_info</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">srs</span></div>


<div class="viewcode-block" id="CRS.from_user_input">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.from_user_input">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_user_input</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CRS&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a CRS class instance with:</span>
<span class="sd">          - PROJ string</span>
<span class="sd">          - Dictionary of PROJ parameters</span>
<span class="sd">          - PROJ keyword arguments for parameters</span>
<span class="sd">          - JSON string with PROJ parameters</span>
<span class="sd">          - CRS WKT string</span>
<span class="sd">          - An authority string [i.e. &#39;epsg:4326&#39;]</span>
<span class="sd">          - An EPSG integer code [i.e. 4326]</span>
<span class="sd">          - A tuple of (&quot;auth_name&quot;: &quot;auth_code&quot;) [i.e (&#39;epsg&#39;, &#39;4326&#39;)]</span>
<span class="sd">          - An object with a `to_wkt` method.</span>
<span class="sd">          - A :class:`pyproj.crs.CRS` class</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : obj</span>
<span class="sd">            A Python int, dict, or str.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="CRS.get_geod">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.get_geod">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_geod</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Geod</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pyproj.geod.Geod:</span>
<span class="sd">            Geod object based on the ellipsoid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ellipsoid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">Geod</span><span class="p">(</span>
            <span class="n">a</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ellipsoid</span><span class="o">.</span><span class="n">semi_major_metre</span><span class="p">,</span>
            <span class="n">rf</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ellipsoid</span><span class="o">.</span><span class="n">inverse_flattening</span><span class="p">,</span>
            <span class="n">b</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ellipsoid</span><span class="o">.</span><span class="n">semi_minor_metre</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="CRS.from_dict">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.from_dict">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">proj_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CRS&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Make a CRS from a dictionary of PROJ parameters.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        proj_dict : str</span>
<span class="sd">            PROJ params in dict format.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">_prepare_from_dict</span><span class="p">(</span><span class="n">proj_dict</span><span class="p">))</span></div>


<div class="viewcode-block" id="CRS.from_json">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.from_json">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">crs_json</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CRS&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.4.0</span>

<span class="sd">        Create CRS from a CRS JSON string.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        crs_json: str</span>
<span class="sd">            CRS JSON string.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">_load_proj_json</span><span class="p">(</span><span class="n">crs_json</span><span class="p">))</span></div>


<div class="viewcode-block" id="CRS.from_json_dict">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.from_json_dict">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_json_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">crs_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CRS&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.4.0</span>

<span class="sd">        Create CRS from a JSON dictionary.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        crs_dict: dict</span>
<span class="sd">            CRS dictionary.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">crs_dict</span><span class="p">))</span></div>


<div class="viewcode-block" id="CRS.to_dict">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.to_dict">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Converts the CRS to dictionary of PROJ parameters.</span>

<span class="sd">        .. warning:: You will likely lose important projection</span>
<span class="sd">          information when converting to a PROJ string from</span>
<span class="sd">          another format. See: https://proj.org/faq.html#what-is-the-best-format-for-describing-coordinate-reference-systems  # noqa: E501</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict:</span>
<span class="sd">            PROJ params in dict format.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">proj_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_proj4</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">proj_string</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_parse</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">val</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;true&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="n">val</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;false&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">return</span> <span class="n">_try_list_if_string</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

        <span class="n">proj_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">_RE_PROJ_PARAM</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">proj_string</span><span class="p">):</span>
            <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">_parse</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">False</span><span class="p">:</span>
                <span class="n">proj_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="k">return</span> <span class="n">proj_dict</span></div>


<div class="viewcode-block" id="CRS.to_cf">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.to_cf">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_cf</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">wkt_version</span><span class="p">:</span> <span class="n">WktVersion</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">WktVersion</span><span class="o">.</span><span class="n">WKT2_2019</span><span class="p">,</span>
        <span class="n">errcheck</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        This converts a :obj:`pyproj.crs.CRS` object</span>
<span class="sd">        to a Climate and Forecast (CF) Grid Mapping Version 1.8 dict.</span>

<span class="sd">        :ref:`build_crs_cf`</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        wkt_version: str or pyproj.enums.WktVersion</span>
<span class="sd">            Version of WKT supported by CRS.to_wkt.</span>
<span class="sd">            Default is :attr:`pyproj.enums.WktVersion.WKT2_2019`.</span>
<span class="sd">        errcheck: bool, default=False</span>
<span class="sd">            If True, will warn when parameters are ignored.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict:</span>
<span class="sd">            CF-1.8 version of the projection.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=too-many-branches,too-many-return-statements</span>
        <span class="n">cf_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;crs_wkt&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_wkt</span><span class="p">(</span><span class="n">wkt_version</span><span class="p">)}</span>

        <span class="c1"># handle bound CRS</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_bound</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_operation</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_operation</span><span class="o">.</span><span class="n">towgs84</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_crs</span>
        <span class="p">):</span>
            <span class="n">sub_cf</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_crs</span><span class="o">.</span><span class="n">to_cf</span><span class="p">(</span>
                <span class="n">wkt_version</span><span class="o">=</span><span class="n">wkt_version</span><span class="p">,</span>
                <span class="n">errcheck</span><span class="o">=</span><span class="n">errcheck</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">sub_cf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;crs_wkt&quot;</span><span class="p">)</span>
            <span class="n">cf_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">sub_cf</span><span class="p">)</span>
            <span class="n">cf_dict</span><span class="p">[</span><span class="s2">&quot;towgs84&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_operation</span><span class="o">.</span><span class="n">towgs84</span>
            <span class="k">return</span> <span class="n">cf_dict</span>

        <span class="c1"># handle compound CRS</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_compound</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">sub_crs</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_crs_list</span><span class="p">:</span>
                <span class="n">sub_cf</span> <span class="o">=</span> <span class="n">sub_crs</span><span class="o">.</span><span class="n">to_cf</span><span class="p">(</span><span class="n">wkt_version</span><span class="o">=</span><span class="n">wkt_version</span><span class="p">,</span> <span class="n">errcheck</span><span class="o">=</span><span class="n">errcheck</span><span class="p">)</span>
                <span class="n">sub_cf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;crs_wkt&quot;</span><span class="p">)</span>
                <span class="n">cf_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">sub_cf</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">cf_dict</span>

        <span class="c1"># handle vertical CRS</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_vertical</span><span class="p">:</span>
            <span class="n">vert_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">()</span>
            <span class="k">if</span> <span class="s2">&quot;geoid_model&quot;</span> <span class="ow">in</span> <span class="n">vert_json</span><span class="p">:</span>
                <span class="n">cf_dict</span><span class="p">[</span><span class="s2">&quot;geoid_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vert_json</span><span class="p">[</span><span class="s2">&quot;geoid_model&quot;</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">datum</span><span class="p">:</span>
                <span class="n">cf_dict</span><span class="p">[</span><span class="s2">&quot;geopotential_datum_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">name</span>
            <span class="k">return</span> <span class="n">cf_dict</span>

        <span class="c1"># write out datum parameters</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ellipsoid</span><span class="p">:</span>
            <span class="n">cf_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                <span class="n">semi_major_axis</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ellipsoid</span><span class="o">.</span><span class="n">semi_major_metre</span><span class="p">,</span>
                <span class="n">semi_minor_axis</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ellipsoid</span><span class="o">.</span><span class="n">semi_minor_metre</span><span class="p">,</span>
                <span class="n">inverse_flattening</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ellipsoid</span><span class="o">.</span><span class="n">inverse_flattening</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">cf_dict</span><span class="p">[</span><span class="s2">&quot;reference_ellipsoid_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ellipsoid</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">prime_meridian</span><span class="p">:</span>
            <span class="n">cf_dict</span><span class="p">[</span><span class="s2">&quot;longitude_of_prime_meridian&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prime_meridian</span><span class="o">.</span><span class="n">longitude</span>
            <span class="n">cf_dict</span><span class="p">[</span><span class="s2">&quot;prime_meridian_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prime_meridian</span><span class="o">.</span><span class="n">name</span>

        <span class="c1"># handle geographic CRS</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">geodetic_crs</span><span class="p">:</span>
            <span class="n">cf_dict</span><span class="p">[</span><span class="s2">&quot;geographic_crs_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">geodetic_crs</span><span class="o">.</span><span class="n">name</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">geodetic_crs</span><span class="o">.</span><span class="n">datum</span><span class="p">:</span>
                <span class="n">cf_dict</span><span class="p">[</span><span class="s2">&quot;horizontal_datum_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">geodetic_crs</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">name</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_geographic</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_operation</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_operation</span><span class="o">.</span><span class="n">method_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="ow">not</span> <span class="ow">in</span> <span class="n">_INVERSE_GEOGRAPHIC_GRID_MAPPING_NAME_MAP</span>
                <span class="p">):</span>
                    <span class="k">if</span> <span class="n">errcheck</span><span class="p">:</span>
                        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                            <span class="s2">&quot;Unsupported coordinate operation: &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate_operation</span><span class="o">.</span><span class="n">method_name</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="p">)</span>
                    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;crs_wkt&quot;</span><span class="p">:</span> <span class="n">cf_dict</span><span class="p">[</span><span class="s2">&quot;crs_wkt&quot;</span><span class="p">]}</span>
                <span class="n">cf_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                    <span class="n">_INVERSE_GEOGRAPHIC_GRID_MAPPING_NAME_MAP</span><span class="p">[</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_operation</span><span class="o">.</span><span class="n">method_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="p">](</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate_operation</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cf_dict</span><span class="p">[</span><span class="s2">&quot;grid_mapping_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;latitude_longitude&quot;</span>
            <span class="k">return</span> <span class="n">cf_dict</span>

        <span class="c1"># handle projected CRS</span>
        <span class="n">coordinate_operation</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_bound</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_projected</span><span class="p">:</span>
            <span class="n">coordinate_operation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_operation</span>
            <span class="n">cf_dict</span><span class="p">[</span><span class="s2">&quot;projected_crs_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="n">coordinate_operation_name</span> <span class="o">=</span> <span class="p">(</span>
            <span class="kc">None</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">coordinate_operation</span>
            <span class="k">else</span> <span class="n">coordinate_operation</span><span class="o">.</span><span class="n">method_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">coordinate_operation_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_INVERSE_GRID_MAPPING_NAME_MAP</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">errcheck</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">coordinate_operation</span><span class="p">:</span>
                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                        <span class="s2">&quot;Unsupported coordinate operation: &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">coordinate_operation</span><span class="o">.</span><span class="n">method_name</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Coordinate operation not found.&quot;</span><span class="p">)</span>

            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;crs_wkt&quot;</span><span class="p">:</span> <span class="n">cf_dict</span><span class="p">[</span><span class="s2">&quot;crs_wkt&quot;</span><span class="p">]}</span>

        <span class="n">cf_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="n">_INVERSE_GRID_MAPPING_NAME_MAP</span><span class="p">[</span><span class="n">coordinate_operation_name</span><span class="p">](</span>
                <span class="n">coordinate_operation</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">cf_dict</span></div>


<div class="viewcode-block" id="CRS.from_cf">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.from_cf">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_cf</span><span class="p">(</span>
        <span class="n">in_cf</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
        <span class="n">ellipsoidal_cs</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cartesian_cs</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">vertical_cs</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CRS&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        .. versionadded:: 3.0.0 ellipsoidal_cs, cartesian_cs, vertical_cs</span>

<span class="sd">        This converts a Climate and Forecast (CF) Grid Mapping Version 1.8</span>
<span class="sd">        dict to a :obj:`pyproj.crs.CRS` object.</span>

<span class="sd">        :ref:`build_crs_cf`</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        in_cf: dict</span>
<span class="sd">            CF version of the projection.</span>
<span class="sd">        ellipsoidal_cs: Any, optional</span>
<span class="sd">            Input to create an Ellipsoidal Coordinate System.</span>
<span class="sd">            Anything accepted by :meth:`pyproj.crs.CoordinateSystem.from_user_input`</span>
<span class="sd">            or an Ellipsoidal Coordinate System created from :ref:`coordinate_system`.</span>
<span class="sd">        cartesian_cs: Any, optional</span>
<span class="sd">            Input to create a Cartesian Coordinate System.</span>
<span class="sd">            Anything accepted by :meth:`pyproj.crs.CoordinateSystem.from_user_input`</span>
<span class="sd">            or :class:`pyproj.crs.coordinate_system.Cartesian2DCS`.</span>
<span class="sd">        vertical_cs: Any, optional</span>
<span class="sd">            Input to create a Vertical Coordinate System accepted by</span>
<span class="sd">            :meth:`pyproj.crs.CoordinateSystem.from_user_input`</span>
<span class="sd">            or :class:`pyproj.crs.coordinate_system.VerticalCS`</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=too-many-branches</span>

        <span class="n">unknown_names</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;unknown&quot;</span><span class="p">,</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;crs_wkt&quot;</span> <span class="ow">in</span> <span class="n">in_cf</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">CRS</span><span class="p">(</span><span class="n">in_cf</span><span class="p">[</span><span class="s2">&quot;crs_wkt&quot;</span><span class="p">])</span>
        <span class="k">if</span> <span class="s2">&quot;spatial_ref&quot;</span> <span class="ow">in</span> <span class="n">in_cf</span><span class="p">:</span>  <span class="c1"># for previous supported WKT key</span>
            <span class="k">return</span> <span class="n">CRS</span><span class="p">(</span><span class="n">in_cf</span><span class="p">[</span><span class="s2">&quot;spatial_ref&quot;</span><span class="p">])</span>

        <span class="n">grid_mapping_name</span> <span class="o">=</span> <span class="n">in_cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;grid_mapping_name&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">grid_mapping_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CRSError</span><span class="p">(</span><span class="s2">&quot;CF projection parameters missing &#39;grid_mapping_name&#39;&quot;</span><span class="p">)</span>

        <span class="c1"># build datum if possible</span>
        <span class="n">datum</span> <span class="o">=</span> <span class="n">_horizontal_datum_from_params</span><span class="p">(</span><span class="n">in_cf</span><span class="p">)</span>

        <span class="c1"># build geographic CRS</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">geographic_conversion_method</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">Callable</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">_GEOGRAPHIC_GRID_MAPPING_NAME_MAP</span><span class="p">[</span><span class="n">grid_mapping_name</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">geographic_conversion_method</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">geographic_crs_name</span> <span class="o">=</span> <span class="n">in_cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;geographic_crs_name&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">datum</span><span class="p">:</span>
            <span class="n">geographic_crs</span><span class="p">:</span> <span class="n">CRS</span> <span class="o">=</span> <span class="n">GeographicCRS</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">geographic_crs_name</span> <span class="ow">or</span> <span class="s2">&quot;undefined&quot;</span><span class="p">,</span>
                <span class="n">datum</span><span class="o">=</span><span class="n">datum</span><span class="p">,</span>
                <span class="n">ellipsoidal_cs</span><span class="o">=</span><span class="n">ellipsoidal_cs</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">geographic_crs_name</span> <span class="ow">and</span> <span class="n">geographic_crs_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">unknown_names</span><span class="p">:</span>
            <span class="n">geographic_crs</span> <span class="o">=</span> <span class="n">CRS</span><span class="p">(</span><span class="n">geographic_crs_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ellipsoidal_cs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">geographic_crs_json</span> <span class="o">=</span> <span class="n">geographic_crs</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">()</span>
                <span class="n">geographic_crs_json</span><span class="p">[</span><span class="s2">&quot;coordinate_system&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">ellipsoidal_cs</span><span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">()</span>
                <span class="p">)</span>
                <span class="n">geographic_crs</span> <span class="o">=</span> <span class="n">CRS</span><span class="p">(</span><span class="n">geographic_crs_json</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">geographic_crs</span> <span class="o">=</span> <span class="n">GeographicCRS</span><span class="p">(</span><span class="n">ellipsoidal_cs</span><span class="o">=</span><span class="n">ellipsoidal_cs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">grid_mapping_name</span> <span class="o">==</span> <span class="s2">&quot;latitude_longitude&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">geographic_crs</span>
        <span class="k">if</span> <span class="n">geographic_conversion_method</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">DerivedGeographicCRS</span><span class="p">(</span>
                <span class="n">base_crs</span><span class="o">=</span><span class="n">geographic_crs</span><span class="p">,</span>
                <span class="n">conversion</span><span class="o">=</span><span class="n">geographic_conversion_method</span><span class="p">(</span><span class="n">in_cf</span><span class="p">),</span>
                <span class="n">ellipsoidal_cs</span><span class="o">=</span><span class="n">ellipsoidal_cs</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># build projected CRS</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">conversion_method</span> <span class="o">=</span> <span class="n">_GRID_MAPPING_NAME_MAP</span><span class="p">[</span><span class="n">grid_mapping_name</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CRSError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unsupported grid mapping name: </span><span class="si">{</span><span class="n">grid_mapping_name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="kc">None</span>
        <span class="n">projected_crs</span> <span class="o">=</span> <span class="n">ProjectedCRS</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">in_cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;projected_crs_name&quot;</span><span class="p">,</span> <span class="s2">&quot;undefined&quot;</span><span class="p">),</span>
            <span class="n">conversion</span><span class="o">=</span><span class="n">conversion_method</span><span class="p">(</span><span class="n">in_cf</span><span class="p">),</span>
            <span class="n">geodetic_crs</span><span class="o">=</span><span class="n">geographic_crs</span><span class="p">,</span>
            <span class="n">cartesian_cs</span><span class="o">=</span><span class="n">cartesian_cs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># build bound CRS if exists</span>
        <span class="n">bound_crs</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s2">&quot;towgs84&quot;</span> <span class="ow">in</span> <span class="n">in_cf</span><span class="p">:</span>
            <span class="n">bound_crs</span> <span class="o">=</span> <span class="n">BoundCRS</span><span class="p">(</span>
                <span class="n">source_crs</span><span class="o">=</span><span class="n">projected_crs</span><span class="p">,</span>
                <span class="n">target_crs</span><span class="o">=</span><span class="s2">&quot;WGS 84&quot;</span><span class="p">,</span>
                <span class="n">transformation</span><span class="o">=</span><span class="n">ToWGS84Transformation</span><span class="p">(</span>
                    <span class="n">projected_crs</span><span class="o">.</span><span class="n">geodetic_crs</span><span class="p">,</span> <span class="o">*</span><span class="n">_try_list_if_string</span><span class="p">(</span><span class="n">in_cf</span><span class="p">[</span><span class="s2">&quot;towgs84&quot;</span><span class="p">])</span>
                <span class="p">),</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;geopotential_datum_name&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">in_cf</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">bound_crs</span> <span class="ow">or</span> <span class="n">projected_crs</span>

        <span class="c1"># build Vertical CRS</span>
        <span class="n">vertical_crs</span> <span class="o">=</span> <span class="n">VerticalCRS</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;undefined&quot;</span><span class="p">,</span>
            <span class="n">datum</span><span class="o">=</span><span class="n">in_cf</span><span class="p">[</span><span class="s2">&quot;geopotential_datum_name&quot;</span><span class="p">],</span>
            <span class="n">geoid_model</span><span class="o">=</span><span class="n">in_cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;geoid_name&quot;</span><span class="p">),</span>
            <span class="n">vertical_cs</span><span class="o">=</span><span class="n">vertical_cs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># build compound CRS</span>
        <span class="k">return</span> <span class="n">CompoundCRS</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;undefined&quot;</span><span class="p">,</span> <span class="n">components</span><span class="o">=</span><span class="p">[</span><span class="n">bound_crs</span> <span class="ow">or</span> <span class="n">projected_crs</span><span class="p">,</span> <span class="n">vertical_crs</span><span class="p">]</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="CRS.cs_to_cf">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.cs_to_cf">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">cs_to_cf</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 3.0.0</span>

<span class="sd">        This converts all coordinate systems (cs) in the CRS</span>
<span class="sd">        to a list of Climate and Forecast (CF) Version 1.8 dicts.</span>

<span class="sd">        :ref:`build_crs_cf`</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list[dict]:</span>
<span class="sd">            CF-1.8 version of the coordinate systems.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cf_axis_list</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">rotated_pole</span><span class="p">(</span><span class="n">crs</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="n">crs</span><span class="o">.</span><span class="n">coordinate_operation</span>
                    <span class="ow">and</span> <span class="n">crs</span><span class="o">.</span><span class="n">coordinate_operation</span><span class="o">.</span><span class="n">method_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="ow">in</span> <span class="n">_INVERSE_GEOGRAPHIC_GRID_MAPPING_NAME_MAP</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_name</span> <span class="o">==</span> <span class="s2">&quot;Temporal CRS&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">datum</span><span class="p">:</span>
            <span class="n">datum_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">()</span>
            <span class="n">origin</span> <span class="o">=</span> <span class="n">datum_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;time_origin&quot;</span><span class="p">,</span> <span class="s2">&quot;1875-05-20&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;zZ&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">origin</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="n">origin</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">origin</span><span class="si">}</span><span class="s2">-01-01&quot;</span>
            <span class="n">axis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axis_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">cf_temporal_axis</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;standard_name&quot;</span><span class="p">:</span> <span class="s2">&quot;time&quot;</span><span class="p">,</span>
                <span class="s2">&quot;long_name&quot;</span><span class="p">:</span> <span class="s2">&quot;time&quot;</span><span class="p">,</span>
                <span class="s2">&quot;calendar&quot;</span><span class="p">:</span> <span class="p">(</span>
                    <span class="n">datum_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;calendar&quot;</span><span class="p">,</span> <span class="s2">&quot;proleptic_gregorian&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>
                <span class="p">),</span>
                <span class="s2">&quot;axis&quot;</span><span class="p">:</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">unit_name</span> <span class="o">=</span> <span class="n">axis</span><span class="o">.</span><span class="n">unit_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;calendar&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="c1"># no units for TemporalDateTime</span>
            <span class="k">if</span> <span class="n">unit_name</span><span class="p">:</span>
                <span class="n">cf_temporal_axis</span><span class="p">[</span><span class="s2">&quot;units&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">unit_name</span><span class="si">}</span><span class="s2"> since </span><span class="si">{</span><span class="n">origin</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">cf_axis_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cf_temporal_axis</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span><span class="p">:</span>
            <span class="n">cf_axis_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span><span class="o">.</span><span class="n">to_cf</span><span class="p">(</span><span class="n">rotated_pole</span><span class="o">=</span><span class="n">rotated_pole</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_bound</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_crs</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_crs</span><span class="o">.</span><span class="n">coordinate_system</span><span class="p">:</span>
            <span class="n">cf_axis_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">source_crs</span><span class="o">.</span><span class="n">coordinate_system</span><span class="o">.</span><span class="n">to_cf</span><span class="p">(</span>
                    <span class="n">rotated_pole</span><span class="o">=</span><span class="n">rotated_pole</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source_crs</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">sub_crs</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_crs_list</span><span class="p">:</span>
                <span class="n">cf_axis_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sub_crs</span><span class="o">.</span><span class="n">cs_to_cf</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">cf_axis_list</span></div>


<div class="viewcode-block" id="CRS.is_exact_same">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.is_exact_same">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_exact_same</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the CRS objects are the exact same.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        other: Any</span>
<span class="sd">            Check if the other CRS is the exact same to this object.</span>
<span class="sd">            If the other object is not a CRS, it will try to create one.</span>
<span class="sd">            On Failure, it will return False.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">other</span> <span class="o">=</span> <span class="n">CRS</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">CRSError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">is_exact_same</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">_crs</span><span class="p">)</span></div>


<div class="viewcode-block" id="CRS.equals">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.equals">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">equals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">ignore_axis_order</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        .. versionadded:: 2.5.0</span>

<span class="sd">        Check if the CRS objects are equivalent.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        other: Any</span>
<span class="sd">            Check if the other object is equivalent to this object.</span>
<span class="sd">            If the other object is not a CRS, it will try to create one.</span>
<span class="sd">            On Failure, it will return False.</span>
<span class="sd">        ignore_axis_order: bool, default=False</span>
<span class="sd">            If True, it will compare the CRS class and ignore the axis order.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">other</span> <span class="o">=</span> <span class="n">CRS</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">CRSError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">_crs</span><span class="p">,</span> <span class="n">ignore_axis_order</span><span class="o">=</span><span class="n">ignore_axis_order</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">geodetic_crs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;CRS&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS:</span>
<span class="sd">            The geodeticCRS / geographicCRS from the CRS.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="kc">None</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">geodetic_crs</span> <span class="ow">is</span> <span class="kc">None</span>
            <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">geodetic_crs</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">source_crs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;CRS&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The base CRS of a BoundCRS or a DerivedCRS/ProjectedCRS,</span>
<span class="sd">        or the source CRS of a CoordinateOperation.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="kc">None</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">source_crs</span> <span class="ow">is</span> <span class="kc">None</span>
            <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">source_crs</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">target_crs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;CRS&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS:</span>
<span class="sd">            The hub CRS of a BoundCRS or the target CRS of a CoordinateOperation.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="kc">None</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">target_crs</span> <span class="ow">is</span> <span class="kc">None</span>
            <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">target_crs</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">sub_crs_list</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;CRS&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If the CRS is a compound CRS, it will return a list of sub CRS objects.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list[CRS]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span><span class="n">sub_crs</span><span class="p">)</span> <span class="k">for</span> <span class="n">sub_crs</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">sub_crs_list</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">utm_zone</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.6.0</span>

<span class="sd">        Finds the UTM zone in a Projected CRS, Bound CRS, or Compound CRS</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str | None:</span>
<span class="sd">            The UTM zone number and letter if applicable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_bound</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_crs</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_crs</span><span class="o">.</span><span class="n">utm_zone</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_crs_list</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">sub_crs</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_crs_list</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">sub_crs</span><span class="o">.</span><span class="n">utm_zone</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">sub_crs</span><span class="o">.</span><span class="n">utm_zone</span>
        <span class="k">elif</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_operation</span>
            <span class="ow">and</span> <span class="s2">&quot;UTM ZONE&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_operation</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_operation</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;UTM ZONE &quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str:</span>
<span class="sd">            The name of the CRS (from :cpp:func:`proj_get_name`).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">type_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str:</span>
<span class="sd">            The name of the type of the CRS object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">type_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">axis_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Axis</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves all relevant axis information in the CRS.</span>
<span class="sd">        If it is a Bound CRS, it gets the axis list from the Source CRS.</span>
<span class="sd">        If it is a Compound CRS, it gets the axis list from the Sub CRS list.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list[Axis]:</span>
<span class="sd">            The list of axis information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">axis_info</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">area_of_use</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AreaOfUse</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        AreaOfUse:</span>
<span class="sd">            The area of use object with associated attributes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">area_of_use</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">ellipsoid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Ellipsoid</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Ellipsoid:</span>
<span class="sd">            The ellipsoid object with associated attributes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">ellipsoid</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">prime_meridian</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PrimeMeridian</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        PrimeMeridian:</span>
<span class="sd">            The prime meridian object with associated attributes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">prime_meridian</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">datum</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Datum</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Datum</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">datum</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">coordinate_system</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CoordinateSystem</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CoordinateSystem</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">coordinate_system</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">coordinate_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CoordinateOperation</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CoordinateOperation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">coordinate_operation</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">remarks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.4.0</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str:</span>
<span class="sd">            Remarks about object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">remarks</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">scope</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.4.0</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str:</span>
<span class="sd">            Scope of object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">scope</span>

<div class="viewcode-block" id="CRS.to_wkt">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.to_wkt">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_wkt</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">version</span><span class="p">:</span> <span class="n">WktVersion</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">WktVersion</span><span class="o">.</span><span class="n">WKT2_2019</span><span class="p">,</span>
        <span class="n">pretty</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">output_axis_rule</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert the projection to a WKT string.</span>

<span class="sd">        Version options:</span>
<span class="sd">          - WKT2_2015</span>
<span class="sd">          - WKT2_2015_SIMPLIFIED</span>
<span class="sd">          - WKT2_2019</span>
<span class="sd">          - WKT2_2019_SIMPLIFIED</span>
<span class="sd">          - WKT1_GDAL</span>
<span class="sd">          - WKT1_ESRI</span>

<span class="sd">        .. versionadded:: 3.6.0 output_axis_rule</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        version: pyproj.enums.WktVersion, optional</span>
<span class="sd">            The version of the WKT output.</span>
<span class="sd">            Default is :attr:`pyproj.enums.WktVersion.WKT2_2019`.</span>
<span class="sd">        pretty: bool, default=False</span>
<span class="sd">            If True, it will set the output to be a multiline string.</span>
<span class="sd">        output_axis_rule: bool, optional, default=None</span>
<span class="sd">            If True, it will set the axis rule on any case. If false, never.</span>
<span class="sd">            None for AUTO, that depends on the CRS and version.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">wkt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">to_wkt</span><span class="p">(</span>
            <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span> <span class="n">pretty</span><span class="o">=</span><span class="n">pretty</span><span class="p">,</span> <span class="n">output_axis_rule</span><span class="o">=</span><span class="n">output_axis_rule</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">wkt</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CRSError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;CRS cannot be converted to a WKT string of a &#39;</span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">&#39; version. &quot;</span>
                <span class="s2">&quot;Select a different version of a WKT string or edit your CRS.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">wkt</span></div>


<div class="viewcode-block" id="CRS.to_json">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.to_json">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pretty</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">indentation</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.4.0</span>

<span class="sd">        Convert the object to a JSON string.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        pretty: bool, default=False</span>
<span class="sd">            If True, it will set the output to be a multiline string.</span>
<span class="sd">        indentation: int, default=2</span>
<span class="sd">            If pretty is True, it will set the width of the indentation.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">proj_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">pretty</span><span class="o">=</span><span class="n">pretty</span><span class="p">,</span> <span class="n">indentation</span><span class="o">=</span><span class="n">indentation</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">proj_json</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CRSError</span><span class="p">(</span><span class="s2">&quot;CRS cannot be converted to a PROJ JSON string.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">proj_json</span></div>


<div class="viewcode-block" id="CRS.to_json_dict">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.to_json_dict">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_json_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.4.0</span>

<span class="sd">        Convert the object to a JSON dictionary.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">()</span></div>


<div class="viewcode-block" id="CRS.to_proj4">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.to_proj4">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_proj4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="n">ProjVersion</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">ProjVersion</span><span class="o">.</span><span class="n">PROJ_5</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert the projection to a PROJ string.</span>

<span class="sd">        .. warning:: You will likely lose important projection</span>
<span class="sd">          information when converting to a PROJ string from</span>
<span class="sd">          another format. See:</span>
<span class="sd">          https://proj.org/faq.html#what-is-the-best-format-for-describing-coordinate-reference-systems  # noqa: E501</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        version: pyproj.enums.ProjVersion</span>
<span class="sd">            The version of the PROJ string output.</span>
<span class="sd">            Default is :attr:`pyproj.enums.ProjVersion.PROJ_4`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">proj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">to_proj4</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">proj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CRSError</span><span class="p">(</span><span class="s2">&quot;CRS cannot be converted to a PROJ string.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">proj</span></div>


<div class="viewcode-block" id="CRS.to_epsg">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.to_epsg">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_epsg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_confidence</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">70</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the EPSG code best matching the CRS</span>
<span class="sd">        or None if it a match is not found.</span>

<span class="sd">        Example:</span>

<span class="sd">        &gt;&gt;&gt; from pyproj import CRS</span>
<span class="sd">        &gt;&gt;&gt; ccs = CRS(&quot;EPSG:4328&quot;)</span>
<span class="sd">        &gt;&gt;&gt; ccs.to_epsg()</span>
<span class="sd">        4328</span>

<span class="sd">        If the CRS is bound, you can attempt to get an epsg code from</span>
<span class="sd">        the source CRS:</span>

<span class="sd">        &gt;&gt;&gt; from pyproj import CRS</span>
<span class="sd">        &gt;&gt;&gt; ccs = CRS(&quot;+proj=geocent +datum=WGS84 +towgs84=0,0,0&quot;)</span>
<span class="sd">        &gt;&gt;&gt; ccs.to_epsg()</span>
<span class="sd">        &gt;&gt;&gt; ccs.source_crs.to_epsg()</span>
<span class="sd">        4978</span>
<span class="sd">        &gt;&gt;&gt; ccs == CRS.from_epsg(4978)</span>
<span class="sd">        False</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        min_confidence: int, default=70</span>
<span class="sd">            A value between 0-100 where 100 is the most confident.</span>
<span class="sd">            :ref:`min_confidence`</span>


<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int | None:</span>
<span class="sd">            The best matching EPSG code matching the confidence level.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">to_epsg</span><span class="p">(</span><span class="n">min_confidence</span><span class="o">=</span><span class="n">min_confidence</span><span class="p">)</span></div>


<div class="viewcode-block" id="CRS.to_authority">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.to_authority">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_authority</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">min_confidence</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">70</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Return the authority name and code best matching the CRS</span>
<span class="sd">        or None if it a match is not found.</span>

<span class="sd">        Example:</span>

<span class="sd">        &gt;&gt;&gt; from pyproj import CRS</span>
<span class="sd">        &gt;&gt;&gt; ccs = CRS(&quot;EPSG:4328&quot;)</span>
<span class="sd">        &gt;&gt;&gt; ccs.to_authority()</span>
<span class="sd">        (&#39;EPSG&#39;, &#39;4328&#39;)</span>

<span class="sd">        If the CRS is bound, you can get an authority from</span>
<span class="sd">        the source CRS:</span>

<span class="sd">        &gt;&gt;&gt; from pyproj import CRS</span>
<span class="sd">        &gt;&gt;&gt; ccs = CRS(&quot;+proj=geocent +datum=WGS84 +towgs84=0,0,0&quot;)</span>
<span class="sd">        &gt;&gt;&gt; ccs.to_authority()</span>
<span class="sd">        &gt;&gt;&gt; ccs.source_crs.to_authority()</span>
<span class="sd">        (&#39;EPSG&#39;, &#39;4978&#39;)</span>
<span class="sd">        &gt;&gt;&gt; ccs == CRS.from_authorty(&#39;EPSG&#39;, &#39;4978&#39;)</span>
<span class="sd">        False</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        auth_name: str, optional</span>
<span class="sd">            The name of the authority to filter by.</span>
<span class="sd">        min_confidence: int, default=70</span>
<span class="sd">            A value between 0-100 where 100 is the most confident.</span>
<span class="sd">            :ref:`min_confidence`</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tuple(str, str) or None:</span>
<span class="sd">            The best matching (&lt;auth_name&gt;, &lt;code&gt;) for the confidence level.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">to_authority</span><span class="p">(</span>
            <span class="n">auth_name</span><span class="o">=</span><span class="n">auth_name</span><span class="p">,</span> <span class="n">min_confidence</span><span class="o">=</span><span class="n">min_confidence</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="CRS.list_authority">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.list_authority">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_authority</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">auth_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">min_confidence</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">70</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">AuthorityMatchInfo</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 3.2.0</span>

<span class="sd">        Return the authority names and codes best matching the CRS.</span>

<span class="sd">        Example:</span>

<span class="sd">        &gt;&gt;&gt; from pyproj import CRS</span>
<span class="sd">        &gt;&gt;&gt; ccs = CRS(&quot;EPSG:4328&quot;)</span>
<span class="sd">        &gt;&gt;&gt; ccs.list_authority()</span>
<span class="sd">        [AuthorityMatchInfo(auth_name=&#39;EPSG&#39;, code=&#39;4326&#39;, confidence=100)]</span>

<span class="sd">        If the CRS is bound, you can get an authority from</span>
<span class="sd">        the source CRS:</span>

<span class="sd">        &gt;&gt;&gt; from pyproj import CRS</span>
<span class="sd">        &gt;&gt;&gt; ccs = CRS(&quot;+proj=geocent +datum=WGS84 +towgs84=0,0,0&quot;)</span>
<span class="sd">        &gt;&gt;&gt; ccs.list_authority()</span>
<span class="sd">        []</span>
<span class="sd">        &gt;&gt;&gt; ccs.source_crs.list_authority()</span>
<span class="sd">        [AuthorityMatchInfo(auth_name=&#39;EPSG&#39;, code=&#39;4978&#39;, confidence=70)]</span>
<span class="sd">        &gt;&gt;&gt; ccs == CRS.from_authorty(&#39;EPSG&#39;, &#39;4978&#39;)</span>
<span class="sd">        False</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        auth_name: str, optional</span>
<span class="sd">            The name of the authority to filter by.</span>
<span class="sd">        min_confidence: int, default=70</span>
<span class="sd">            A value between 0-100 where 100 is the most confident.</span>
<span class="sd">            :ref:`min_confidence`</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list[AuthorityMatchInfo]:</span>
<span class="sd">            List of authority matches for the CRS.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">list_authority</span><span class="p">(</span>
            <span class="n">auth_name</span><span class="o">=</span><span class="n">auth_name</span><span class="p">,</span> <span class="n">min_confidence</span><span class="o">=</span><span class="n">min_confidence</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="CRS.to_3d">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.to_3d">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_3d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CRS&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 3.1.0</span>

<span class="sd">        Convert the current CRS to the 3D version if it makes sense.</span>

<span class="sd">        New vertical axis attributes:</span>
<span class="sd">          - ellipsoidal height</span>
<span class="sd">          - oriented upwards</span>
<span class="sd">          - metre units</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: str, optional</span>
<span class="sd">            CRS name. Defaults to use the name of the original CRS.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">to_3d</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">))</span></div>


<div class="viewcode-block" id="CRS.to_2d">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.to_2d">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_2d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CRS&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 3.6.0</span>

<span class="sd">        Convert the current CRS to the 2D version if it makes sense.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: str, optional</span>
<span class="sd">            CRS name. Defaults to use the name of the original CRS.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">to_2d</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">))</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_geographic</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This checks if the CRS is geographic.</span>
<span class="sd">        It will check if it has a geographic CRS</span>
<span class="sd">        in the sub CRS if it is a compound CRS and will check if</span>
<span class="sd">        the source CRS is geographic if it is a bound CRS.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool:</span>
<span class="sd">            True if the CRS is in geographic (lon/lat) coordinates.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">is_geographic</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_projected</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This checks if the CRS is projected.</span>
<span class="sd">        It will check if it has a projected CRS</span>
<span class="sd">        in the sub CRS if it is a compound CRS and will check if</span>
<span class="sd">        the source CRS is projected if it is a bound CRS.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool:</span>
<span class="sd">            True if CRS is projected.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">is_projected</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_vertical</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        This checks if the CRS is vertical.</span>
<span class="sd">        It will check if it has a vertical CRS</span>
<span class="sd">        in the sub CRS if it is a compound CRS and will check if</span>
<span class="sd">        the source CRS is vertical if it is a bound CRS.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool:</span>
<span class="sd">            True if CRS is vertical.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">is_vertical</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_bound</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool:</span>
<span class="sd">            True if CRS is bound.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">is_bound</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_compound</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 3.1.0</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool:</span>
<span class="sd">            True if CRS is compound.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">is_compound</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_engineering</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool:</span>
<span class="sd">            True if CRS is local/engineering.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">is_engineering</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_geocentric</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This checks if the CRS is geocentric and</span>
<span class="sd">        takes into account if the CRS is bound.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool:</span>
<span class="sd">            True if CRS is in geocentric (x/y) coordinates.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">is_geocentric</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_derived</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 3.2.0</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool:</span>
<span class="sd">            True if CRS is a Derived CRS.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">is_derived</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_deprecated</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 3.7.0</span>

<span class="sd">        Check if the CRS is deprecated</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">is_deprecated</span>

<div class="viewcode-block" id="CRS.get_non_deprecated">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CRS.get_non_deprecated">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_non_deprecated</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;CRS&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 3.7.0</span>

<span class="sd">        Return a list of non-deprecated objects related to this.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list[CRS]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">get_non_deprecated</span><span class="p">()</span></div>


    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;srs&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">srs</span><span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_local</span> <span class="o">=</span> <span class="n">CRSLocal</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_wkt</span><span class="p">())</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">srs</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="c1"># get axis information</span>
        <span class="n">axis_info_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axis_info</span><span class="p">:</span>
            <span class="n">axis_info_list</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s2">&quot;- &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">),</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">])</span>
        <span class="n">axis_info_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">axis_info_list</span><span class="p">)</span>

        <span class="c1"># get coordinate system &amp; sub CRS info</span>
        <span class="n">source_crs_repr</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">sub_crs_repr</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span><span class="o">.</span><span class="n">axis_list</span><span class="p">:</span>
            <span class="n">coordinate_system_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate_system</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_bound</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_crs</span><span class="p">:</span>
            <span class="n">coordinate_system_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source_crs</span><span class="o">.</span><span class="n">coordinate_system</span><span class="p">)</span>
            <span class="n">source_crs_repr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Source CRS: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">source_crs</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">coordinate_system_names</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">sub_crs_repr_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Sub CRS:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">sub_crs</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_crs_list</span><span class="p">:</span>
                <span class="n">coordinate_system_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">sub_crs</span><span class="o">.</span><span class="n">coordinate_system</span><span class="p">))</span>
                <span class="n">sub_crs_repr_list</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s2">&quot;- &quot;</span><span class="p">,</span> <span class="n">sub_crs</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">])</span>
            <span class="n">coordinate_system_name</span> <span class="o">=</span> <span class="s2">&quot;|&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">coordinate_system_names</span><span class="p">)</span>
            <span class="n">sub_crs_repr</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sub_crs_repr_list</span><span class="p">)</span>

        <span class="c1"># get coordinate operation repr</span>
        <span class="n">coordinate_operation</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_operation</span><span class="p">:</span>
            <span class="n">coordinate_operation</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="s2">&quot;Coordinate Operation:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;- name: &quot;</span><span class="p">,</span>
                    <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordinate_operation</span><span class="p">),</span>
                    <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">- method: &quot;</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">coordinate_operation</span><span class="o">.</span><span class="n">method_name</span><span class="p">,</span>
                    <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">]</span>
            <span class="p">)</span>

        <span class="c1"># get SRS representation</span>
        <span class="n">srs_repr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_string</span><span class="p">()</span>
        <span class="n">srs_repr</span> <span class="o">=</span> <span class="n">srs_repr</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">srs_repr</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">50</span> <span class="k">else</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">srs_repr</span><span class="p">[:</span><span class="mi">50</span><span class="p">],</span> <span class="s2">&quot;...&quot;</span><span class="p">])</span>
        <span class="n">axis_info_str</span> <span class="o">=</span> <span class="n">axis_info_str</span> <span class="ow">or</span> <span class="s2">&quot;- undefined</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">type_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">srs_repr</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Name: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Axis Info [</span><span class="si">{</span><span class="n">coordinate_system_name</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;undefined&#39;</span><span class="si">}</span><span class="s2">]:</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">axis_info_str</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="s2">&quot;Area of Use:</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">area_of_use</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;- undefined&#39;</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">coordinate_operation</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Datum: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">datum</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;- Ellipsoid: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ellipsoid</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;undefined&#39;</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;- Prime Meridian: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">prime_meridian</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;undefined&#39;</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">source_crs_repr</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">sub_crs_repr</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span></div>



<div class="viewcode-block" id="CustomConstructorCRS">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CustomConstructorCRS">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">CustomConstructorCRS</span><span class="p">(</span><span class="n">CRS</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class is a base class for CRS classes</span>
<span class="sd">    that use a different constructor than the main CRS class.</span>

<span class="sd">    .. versionadded:: 3.2.0</span>

<span class="sd">    See: https://github.com/pyproj4/pyproj/issues/847</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_expected_types</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        These are the type names of the CRS class</span>
<span class="sd">        that are expected when using the from_* methods.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_check_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This validates that the type of the CRS is expected</span>
<span class="sd">        when using the from_* methods.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expected_types</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">CRSError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid type </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">type_name</span><span class="si">}</span><span class="s2">. Expected </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_expected_types</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

<div class="viewcode-block" id="CustomConstructorCRS.from_user_input">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CustomConstructorCRS.from_user_input">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_user_input</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CRS&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a CRS class instance with:</span>
<span class="sd">          - PROJ string</span>
<span class="sd">          - Dictionary of PROJ parameters</span>
<span class="sd">          - PROJ keyword arguments for parameters</span>
<span class="sd">          - JSON string with PROJ parameters</span>
<span class="sd">          - CRS WKT string</span>
<span class="sd">          - An authority string [i.e. &#39;epsg:4326&#39;]</span>
<span class="sd">          - An EPSG integer code [i.e. 4326]</span>
<span class="sd">          - A tuple of (&quot;auth_name&quot;: &quot;auth_code&quot;) [i.e (&#39;epsg&#39;, &#39;4326&#39;)]</span>
<span class="sd">          - An object with a `to_wkt` method.</span>
<span class="sd">          - A :class:`pyproj.crs.CRS` class</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : obj</span>
<span class="sd">            A Python int, dict, or str.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="n">crs</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CustomConstructorCRS</span><span class="p">,</span> <span class="n">crs</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">crs</span><span class="o">.</span><span class="n">_check_type</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">crs</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">geodetic_crs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;CRS&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS:</span>
<span class="sd">            The geodeticCRS / geographicCRS from the CRS.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">geodetic_crs</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">CRS</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">geodetic_crs</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">source_crs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;CRS&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The base CRS of a BoundCRS or a DerivedCRS/ProjectedCRS,</span>
<span class="sd">        or the source CRS of a CoordinateOperation.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">source_crs</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">CRS</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">source_crs</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">target_crs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;CRS&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 2.2.0</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS:</span>
<span class="sd">            The hub CRS of a BoundCRS or the target CRS of a CoordinateOperation.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">target_crs</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">CRS</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">target_crs</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">sub_crs_list</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;CRS&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If the CRS is a compound CRS, it will return a list of sub CRS objects.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list[CRS]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">CRS</span><span class="p">(</span><span class="n">sub_crs</span><span class="p">)</span> <span class="k">for</span> <span class="n">sub_crs</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">sub_crs_list</span><span class="p">]</span>

<div class="viewcode-block" id="CustomConstructorCRS.to_3d">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CustomConstructorCRS.to_3d">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_3d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CRS&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. versionadded:: 3.1.0</span>

<span class="sd">        Convert the current CRS to the 3D version if it makes sense.</span>

<span class="sd">        New vertical axis attributes:</span>
<span class="sd">          - ellipsoidal height</span>
<span class="sd">          - oriented upwards</span>
<span class="sd">          - metre units</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: str, optional</span>
<span class="sd">            CRS name. Defaults to use the name of the original CRS.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        CRS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">CRS</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_crs</span><span class="o">.</span><span class="n">to_3d</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">))</span></div>
</div>



<div class="viewcode-block" id="GeographicCRS">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.GeographicCRS">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">GeographicCRS</span><span class="p">(</span><span class="n">CustomConstructorCRS</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    .. versionadded:: 2.5.0</span>

<span class="sd">    This class is for building a Geographic CRS</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_expected_types</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Geographic CRS&quot;</span><span class="p">,</span> <span class="s2">&quot;Geographic 2D CRS&quot;</span><span class="p">,</span> <span class="s2">&quot;Geographic 3D CRS&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="GeographicCRS.__init__">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.GeographicCRS.__init__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;undefined&quot;</span><span class="p">,</span>
        <span class="n">datum</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="s2">&quot;urn:ogc:def:ensemble:EPSG::6326&quot;</span><span class="p">,</span>
        <span class="n">ellipsoidal_cs</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: str, default=&quot;undefined&quot;</span>
<span class="sd">            Name of the CRS.</span>
<span class="sd">        datum: Any, default=&quot;urn:ogc:def:ensemble:EPSG::6326&quot;</span>
<span class="sd">            Anything accepted by :meth:`pyproj.crs.Datum.from_user_input` or</span>
<span class="sd">            a :class:`pyproj.crs.datum.CustomDatum`.</span>
<span class="sd">        ellipsoidal_cs: Any, optional</span>
<span class="sd">            Input to create an Ellipsoidal Coordinate System.</span>
<span class="sd">            Anything accepted by :meth:`pyproj.crs.CoordinateSystem.from_user_input`</span>
<span class="sd">            or an Ellipsoidal Coordinate System created from :ref:`coordinate_system`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">datum</span> <span class="o">=</span> <span class="n">Datum</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">datum</span><span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">()</span>
        <span class="n">geographic_crs_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;https://proj.org/schemas/v0.2/projjson.schema.json&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;GeographicCRS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;coordinate_system&quot;</span><span class="p">:</span> <span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span>
                <span class="n">ellipsoidal_cs</span> <span class="ow">or</span> <span class="n">Ellipsoidal2DCS</span><span class="p">()</span>
            <span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">(),</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">datum</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;DatumEnsemble&quot;</span><span class="p">:</span>
            <span class="n">geographic_crs_json</span><span class="p">[</span><span class="s2">&quot;datum_ensemble&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datum</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">geographic_crs_json</span><span class="p">[</span><span class="s2">&quot;datum&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datum</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">geographic_crs_json</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="DerivedGeographicCRS">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.DerivedGeographicCRS">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">DerivedGeographicCRS</span><span class="p">(</span><span class="n">CustomConstructorCRS</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    .. versionadded:: 2.5.0</span>

<span class="sd">    This class is for building a Derived Geographic CRS</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_expected_types</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;Derived Geographic CRS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Derived Geographic 2D CRS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Derived Geographic 3D CRS&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="DerivedGeographicCRS.__init__">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.DerivedGeographicCRS.__init__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">base_crs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">conversion</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">ellipsoidal_cs</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;undefined&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        base_crs: Any</span>
<span class="sd">            Input to create the Geodetic CRS, a :class:`GeographicCRS` or</span>
<span class="sd">            anything accepted by :meth:`pyproj.crs.CRS.from_user_input`.</span>
<span class="sd">        conversion: Any</span>
<span class="sd">            Anything accepted by :meth:`pyproj.crs.CoordinateSystem.from_user_input`</span>
<span class="sd">            or a conversion from :ref:`coordinate_operation`.</span>
<span class="sd">        ellipsoidal_cs: Any, optional</span>
<span class="sd">            Input to create an Ellipsoidal Coordinate System.</span>
<span class="sd">            Anything accepted by :meth:`pyproj.crs.CoordinateSystem.from_user_input`</span>
<span class="sd">            or an Ellipsoidal Coordinate System created from :ref:`coordinate_system`.</span>
<span class="sd">        name: str, default=&quot;undefined&quot;</span>
<span class="sd">            Name of the CRS.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">derived_geographic_crs_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;https://proj.org/schemas/v0.2/projjson.schema.json&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;DerivedGeographicCRS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;base_crs&quot;</span><span class="p">:</span> <span class="n">CRS</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">base_crs</span><span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">(),</span>
            <span class="s2">&quot;conversion&quot;</span><span class="p">:</span> <span class="n">CoordinateOperation</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span>
                <span class="n">conversion</span>
            <span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">(),</span>
            <span class="s2">&quot;coordinate_system&quot;</span><span class="p">:</span> <span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span>
                <span class="n">ellipsoidal_cs</span> <span class="ow">or</span> <span class="n">Ellipsoidal2DCS</span><span class="p">()</span>
            <span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">(),</span>
        <span class="p">}</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">derived_geographic_crs_json</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="GeocentricCRS">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.GeocentricCRS">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">GeocentricCRS</span><span class="p">(</span><span class="n">CustomConstructorCRS</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    .. versionadded:: 3.2.0</span>

<span class="sd">    This class is for building a Geocentric CRS</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_expected_types</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Geocentric CRS&quot;</span><span class="p">,)</span>

<div class="viewcode-block" id="GeocentricCRS.__init__">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.GeocentricCRS.__init__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;undefined&quot;</span><span class="p">,</span>
        <span class="n">datum</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="s2">&quot;urn:ogc:def:datum:EPSG::6326&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: str, default=&quot;undefined&quot;</span>
<span class="sd">            Name of the CRS.</span>
<span class="sd">        datum: Any, default=&quot;urn:ogc:def:datum:EPSG::6326&quot;</span>
<span class="sd">            Anything accepted by :meth:`pyproj.crs.Datum.from_user_input` or</span>
<span class="sd">            a :class:`pyproj.crs.datum.CustomDatum`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">geocentric_crs_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;$schema&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;https://proj.org/schemas/v0.2/projjson.schema.json&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;GeodeticCRS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;datum&quot;</span><span class="p">:</span> <span class="n">Datum</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">datum</span><span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">(),</span>
            <span class="s2">&quot;coordinate_system&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;subtype&quot;</span><span class="p">:</span> <span class="s2">&quot;Cartesian&quot;</span><span class="p">,</span>
                <span class="s2">&quot;axis&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Geocentric X&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;abbreviation&quot;</span><span class="p">:</span> <span class="s2">&quot;X&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;direction&quot;</span><span class="p">:</span> <span class="s2">&quot;geocentricX&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;metre&quot;</span><span class="p">,</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Geocentric Y&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;abbreviation&quot;</span><span class="p">:</span> <span class="s2">&quot;Y&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;direction&quot;</span><span class="p">:</span> <span class="s2">&quot;geocentricY&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;metre&quot;</span><span class="p">,</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Geocentric Z&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;abbreviation&quot;</span><span class="p">:</span> <span class="s2">&quot;Z&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;direction&quot;</span><span class="p">:</span> <span class="s2">&quot;geocentricZ&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;metre&quot;</span><span class="p">,</span>
                    <span class="p">},</span>
                <span class="p">],</span>
            <span class="p">},</span>
        <span class="p">}</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">geocentric_crs_json</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="ProjectedCRS">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.ProjectedCRS">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">ProjectedCRS</span><span class="p">(</span><span class="n">CustomConstructorCRS</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    .. versionadded:: 2.5.0</span>

<span class="sd">    This class is for building a Projected CRS.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_expected_types</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Projected CRS&quot;</span><span class="p">,</span> <span class="s2">&quot;Derived Projected CRS&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="ProjectedCRS.__init__">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.ProjectedCRS.__init__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">conversion</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;undefined&quot;</span><span class="p">,</span>
        <span class="n">cartesian_cs</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">geodetic_crs</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        conversion: Any</span>
<span class="sd">            Anything accepted by :meth:`pyproj.crs.CoordinateSystem.from_user_input`</span>
<span class="sd">            or a conversion from :ref:`coordinate_operation`.</span>
<span class="sd">        name: str, optional</span>
<span class="sd">            The name of the Projected CRS. Default is undefined.</span>
<span class="sd">        cartesian_cs: Any, optional</span>
<span class="sd">            Input to create a Cartesian Coordinate System.</span>
<span class="sd">            Anything accepted by :meth:`pyproj.crs.CoordinateSystem.from_user_input`</span>
<span class="sd">            or :class:`pyproj.crs.coordinate_system.Cartesian2DCS`.</span>
<span class="sd">        geodetic_crs: Any, optional</span>
<span class="sd">            Input to create the Geodetic CRS, a :class:`GeographicCRS` or</span>
<span class="sd">            anything accepted by :meth:`pyproj.crs.CRS.from_user_input`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">proj_crs_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;https://proj.org/schemas/v0.2/projjson.schema.json&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;ProjectedCRS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;base_crs&quot;</span><span class="p">:</span> <span class="n">CRS</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span>
                <span class="n">geodetic_crs</span> <span class="ow">or</span> <span class="n">GeographicCRS</span><span class="p">()</span>
            <span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">(),</span>
            <span class="s2">&quot;conversion&quot;</span><span class="p">:</span> <span class="n">CoordinateOperation</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span>
                <span class="n">conversion</span>
            <span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">(),</span>
            <span class="s2">&quot;coordinate_system&quot;</span><span class="p">:</span> <span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span>
                <span class="n">cartesian_cs</span> <span class="ow">or</span> <span class="n">Cartesian2DCS</span><span class="p">()</span>
            <span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">(),</span>
        <span class="p">}</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">proj_crs_json</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="VerticalCRS">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.VerticalCRS">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">VerticalCRS</span><span class="p">(</span><span class="n">CustomConstructorCRS</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    .. versionadded:: 2.5.0</span>

<span class="sd">    This class is for building a Vertical CRS.</span>

<span class="sd">    .. warning:: geoid_model support only exists in PROJ &gt;= 6.3.0</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_expected_types</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Vertical CRS&quot;</span><span class="p">,)</span>

<div class="viewcode-block" id="VerticalCRS.__init__">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.VerticalCRS.__init__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">datum</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">vertical_cs</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">geoid_model</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: str</span>
<span class="sd">            The name of the Vertical CRS (e.g. NAVD88 height).</span>
<span class="sd">        datum: Any</span>
<span class="sd">            Anything accepted by :meth:`pyproj.crs.Datum.from_user_input`</span>
<span class="sd">        vertical_cs: Any, optional</span>
<span class="sd">            Input to create a Vertical Coordinate System accepted by</span>
<span class="sd">            :meth:`pyproj.crs.CoordinateSystem.from_user_input`</span>
<span class="sd">            or :class:`pyproj.crs.coordinate_system.VerticalCS`</span>
<span class="sd">        geoid_model: str, optional</span>
<span class="sd">            The name of the GEOID Model (e.g. GEOID12B).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vert_crs_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;https://proj.org/schemas/v0.2/projjson.schema.json&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;VerticalCRS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;datum&quot;</span><span class="p">:</span> <span class="n">Datum</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">datum</span><span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">(),</span>
            <span class="s2">&quot;coordinate_system&quot;</span><span class="p">:</span> <span class="n">CoordinateSystem</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span>
                <span class="n">vertical_cs</span> <span class="ow">or</span> <span class="n">VerticalCS</span><span class="p">()</span>
            <span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">(),</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">geoid_model</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">vert_crs_json</span><span class="p">[</span><span class="s2">&quot;geoid_model&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">geoid_model</span><span class="p">}</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">vert_crs_json</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="CompoundCRS">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CompoundCRS">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">CompoundCRS</span><span class="p">(</span><span class="n">CustomConstructorCRS</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    .. versionadded:: 2.5.0</span>

<span class="sd">    This class is for building a Compound CRS.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_expected_types</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Compound CRS&quot;</span><span class="p">,)</span>

<div class="viewcode-block" id="CompoundCRS.__init__">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.CompoundCRS.__init__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">components</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: str</span>
<span class="sd">            The name of the Compound CRS.</span>
<span class="sd">        components: list[Any], optional</span>
<span class="sd">            List of CRS to create a Compound Coordinate System.</span>
<span class="sd">            List of anything accepted by :meth:`pyproj.crs.CRS.from_user_input`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">compound_crs_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;https://proj.org/schemas/v0.2/projjson.schema.json&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;CompoundCRS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;components&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="n">CRS</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">component</span><span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">components</span>
            <span class="p">],</span>
        <span class="p">}</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">compound_crs_json</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="BoundCRS">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.BoundCRS">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">BoundCRS</span><span class="p">(</span><span class="n">CustomConstructorCRS</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    .. versionadded:: 2.5.0</span>

<span class="sd">    This class is for building a Bound CRS.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_expected_types</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Bound CRS&quot;</span><span class="p">,)</span>

<div class="viewcode-block" id="BoundCRS.__init__">
<a class="viewcode-back" href="../../../api/crs/crs.html#pyproj.crs.BoundCRS.__init__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source_crs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">target_crs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">transformation</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        source_crs: Any</span>
<span class="sd">            Input to create a source CRS.</span>
<span class="sd">        target_crs: Any</span>
<span class="sd">            Input to create the target CRS.</span>
<span class="sd">        transformation: Any</span>
<span class="sd">            Input to create the transformation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bound_crs_json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;https://proj.org/schemas/v0.2/projjson.schema.json&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;BoundCRS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;source_crs&quot;</span><span class="p">:</span> <span class="n">CRS</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">source_crs</span><span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">(),</span>
            <span class="s2">&quot;target_crs&quot;</span><span class="p">:</span> <span class="n">CRS</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span><span class="n">target_crs</span><span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">(),</span>
            <span class="s2">&quot;transformation&quot;</span><span class="p">:</span> <span class="n">CoordinateOperation</span><span class="o">.</span><span class="n">from_user_input</span><span class="p">(</span>
                <span class="n">transformation</span>
            <span class="p">)</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">(),</span>
        <span class="p">}</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">bound_crs_json</span><span class="p">)</span></div>
</div>

</pre></div>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2006-2018, Jeffrey Whitaker; 2019-2024, Open source contributors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="../../../_static/documentation_options.js?v=e729aba5"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/furo.js?v=5fa4622c"></script>
    </body>
</html>